---
title: c++面经
---
## c++基础

### c++内存模型

C++内存分为5个区域（堆栈全常代)

**堆 heap** ：
由new分配的内存块，其释放编译器不去管，由我们程序自己控制（一个new对应一个delete）。如果程序员没有释放掉，在程序结束时OS会自动回收。涉及的问题：“缓冲区溢出”、“内存泄露”

**栈 stack** ：
是那些编译器在需要时分配，在不需要时自动清除的存储区。存放局部变量、函数参数。
存放在栈中的数据只在当前函数及下一层函数中有效，一旦函数返回了，这些数据也就自动释放了。

**全局/静态存储区 （.bss段和.data段）** ：
全局和静态变量被分配到同一块内存中。在C语言中，未初始化的放在.bss段中，初始化的放在.data段中；在C++里则不区分了。

**常量存储区 （.rodata段）** ：
存放常量，不允许修改（通过非正当手段也可以修改）

**代码区 （.text段）** ：
存放代码（如函数），不允许修改（类似常量存储区），但可以执行（不同于常量存储区）

### 区别以下指针类别
```cpp
int *p[10]
int (*p)[10]
int *p(int)
int (*p)(int)
```
int *p[10]表示指针数组，强调数组概念，是一个数组变量，数组大小为10，数组内每个元素都是指向int类型的指针变量。

int (*p)[10]表示数组指针，强调是指针，只有一个变量，是指针类型，不过指向的是一个int类型的数组，这个数组大小是10。

int *p(int)是函数声明，函数名是p，参数是int类型的，返回值是int *类型的。

int (*p)(int)是函数指针，强调是指针，该指针指向的函数具有int类型参数，并且返回值是int类型的。